{"ast":null,"code":"// components/TourViewer.js\nimport React,{useState,useEffect,useRef}from'react';import axios from'axios';import{Scene,Entity}from'aframe-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function TourViewer(_ref){let{match}=_ref;const[tour,setTour]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const sceneRef=useRef(null);useEffect(()=>{const fetchTourData=async()=>{try{const tourRes=await axios.get(\"/api/tours/\".concat(match.params.id));setTour(tourRes.data);setLoading(false);}catch(err){setError('Failed to fetch tour data');setLoading(false);}};fetchTourData();},[match.params.id]);if(loading)return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});if(error)return/*#__PURE__*/_jsx(\"div\",{children:error});if(!tour)return/*#__PURE__*/_jsx(\"div\",{children:\"Tour not found\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"tour-viewer\",children:[/*#__PURE__*/_jsx(\"h2\",{children:tour.title}),/*#__PURE__*/_jsx(\"div\",{className:\"vr-content\",style:{height:'500px',width:'100%'},children:/*#__PURE__*/_jsxs(Scene,{ref:sceneRef,children:[/*#__PURE__*/_jsx(Entity,{primitive:\"a-sky\",src:tour.panoramaUrl,rotation:\"0 -130 0\"}),/*#__PURE__*/_jsx(Entity,{primitive:\"a-camera\",\"look-controls\":true,children:/*#__PURE__*/_jsx(Entity,{primitive:\"a-cursor\",animation__click:\"property: scale; startEvents: click; from: 0.1 0.1 0.1; to: 1 1 1; dur: 150\"})}),tour.hotspots.map((hotspot,index)=>/*#__PURE__*/_jsx(Entity,{primitive:\"a-sphere\",radius:\"0.2\",position:hotspot.position,color:\"#00FF00\",events:{click:()=>alert(hotspot.description)}},index))]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"tour-metadata\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"Location: \",tour.location]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Category: \",tour.category]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Tags: \",tour.tags.join(', ')]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Description: \",tour.description]})]})]});}export default TourViewer;","map":{"version":3,"names":["React","useState","useEffect","useRef","axios","Scene","Entity","jsx","_jsx","jsxs","_jsxs","TourViewer","_ref","match","tour","setTour","loading","setLoading","error","setError","sceneRef","fetchTourData","tourRes","get","concat","params","id","data","err","children","className","title","style","height","width","ref","primitive","src","panoramaUrl","rotation","animation__click","hotspots","map","hotspot","index","radius","position","color","events","click","alert","description","location","category","tags","join"],"sources":["C:/Users/HP/virtual-reality-app/Client/src/components/TourViewer.js"],"sourcesContent":["// components/TourViewer.js\r\nimport React, { useState, useEffect, useRef } from 'react';\r\nimport axios from 'axios';\r\nimport { Scene, Entity } from 'aframe-react';\r\n\r\nfunction TourViewer({ match }) {\r\n  const [tour, setTour] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const sceneRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    const fetchTourData = async () => {\r\n      try {\r\n        const tourRes = await axios.get(`/api/tours/${match.params.id}`);\r\n        setTour(tourRes.data);\r\n        setLoading(false);\r\n      } catch (err) {\r\n        setError('Failed to fetch tour data');\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchTourData();\r\n  }, [match.params.id]);\r\n\r\n  if (loading) return <div>Loading...</div>;\r\n  if (error) return <div>{error}</div>;\r\n  if (!tour) return <div>Tour not found</div>;\r\n\r\n  return (\r\n    <div className=\"tour-viewer\">\r\n      <h2>{tour.title}</h2>\r\n      <div className=\"vr-content\" style={{ height: '500px', width: '100%' }}>\r\n        <Scene ref={sceneRef}>\r\n          <Entity primitive=\"a-sky\" src={tour.panoramaUrl} rotation=\"0 -130 0\"/>\r\n          <Entity primitive=\"a-camera\" look-controls>\r\n            <Entity primitive=\"a-cursor\" animation__click=\"property: scale; startEvents: click; from: 0.1 0.1 0.1; to: 1 1 1; dur: 150\"/>\r\n          </Entity>\r\n          {tour.hotspots.map((hotspot, index) => (\r\n            <Entity\r\n              key={index}\r\n              primitive=\"a-sphere\"\r\n              radius=\"0.2\"\r\n              position={hotspot.position}\r\n              color=\"#00FF00\"\r\n              events={{\r\n                click: () => alert(hotspot.description)\r\n              }}\r\n            />\r\n          ))}\r\n        </Scene>\r\n      </div>\r\n      <div className=\"tour-metadata\">\r\n        <p>Location: {tour.location}</p>\r\n        <p>Category: {tour.category}</p>\r\n        <p>Tags: {tour.tags.join(', ')}</p>\r\n        <p>Description: {tour.description}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TourViewer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}