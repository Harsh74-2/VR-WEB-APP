{"ast":null,"code":"// components/TourSubmission.js\nimport React,{useState}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function TourSubmission(){const[title,setTitle]=useState('');const[description,setDescription]=useState('');const[location,setLocation]=useState('');const[category,setCategory]=useState('');const[tags,setTags]=useState('');const[panoramaFile,setPanoramaFile]=useState(null);const[hotspots,setHotspots]=useState([]);const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const handleSubmit=async e=>{e.preventDefault();setLoading(true);setError(null);const formData=new FormData();formData.append('title',title);formData.append('description',description);formData.append('location',location);formData.append('category',category);formData.append('tags',tags);formData.append('panoramaFile',panoramaFile);formData.append('hotspots',JSON.stringify(hotspots));try{await axios.post('/api/tours',formData,{headers:{'Content-Type':'multipart/form-data','Authorization':\"Bearer \".concat(localStorage.getItem('token'))}});alert('Tour submitted successfully!');// Reset form\n}catch(err){setError('Failed to submit tour. Please try again.');}finally{setLoading(false);}};const addHotspot=()=>{setHotspots([...hotspots,{position:'',description:''}]);};const updateHotspot=(index,field,value)=>{const updatedHotspots=[...hotspots];updatedHotspots[index][field]=value;setHotspots(updatedHotspots);};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"tour-submission-form\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Submit a New VR Tour\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:error}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:title,onChange:e=>setTitle(e.target.value),placeholder:\"Tour Title\",required:true}),/*#__PURE__*/_jsx(\"textarea\",{value:description,onChange:e=>setDescription(e.target.value),placeholder:\"Tour Description\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:location,onChange:e=>setLocation(e.target.value),placeholder:\"Location\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:category,onChange:e=>setCategory(e.target.value),placeholder:\"Category\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:tags,onChange:e=>setTags(e.target.value),placeholder:\"Tags (comma-separated)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:e=>setPanoramaFile(e.target.files[0]),accept:\"image/*\",required:true}),/*#__PURE__*/_jsx(\"h3\",{children:\"Hotspots\"}),hotspots.map((hotspot,index)=>/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:hotspot.position,onChange:e=>updateHotspot(index,'position',e.target.value),placeholder:\"Position (x y z)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:hotspot.description,onChange:e=>updateHotspot(index,'description',e.target.value),placeholder:\"Description\"})]},index)),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:addHotspot,children:\"Add Hotspot\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,children:loading?'Submitting...':'Submit Tour'})]});}export default TourSubmission;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","TourSubmission","title","setTitle","description","setDescription","location","setLocation","category","setCategory","tags","setTags","panoramaFile","setPanoramaFile","hotspots","setHotspots","loading","setLoading","error","setError","handleSubmit","e","preventDefault","formData","FormData","append","JSON","stringify","post","headers","concat","localStorage","getItem","alert","err","addHotspot","position","updateHotspot","index","field","value","updatedHotspots","onSubmit","className","children","type","onChange","target","placeholder","required","files","accept","map","hotspot","onClick","disabled"],"sources":["C:/Users/HP/virtual-reality-app/Client/src/components/TourSubmission.js"],"sourcesContent":["// components/TourSubmission.js\r\nimport React, { useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nfunction TourSubmission() {\r\n  const [title, setTitle] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const [location, setLocation] = useState('');\r\n  const [category, setCategory] = useState('');\r\n  const [tags, setTags] = useState('');\r\n  const [panoramaFile, setPanoramaFile] = useState(null);\r\n  const [hotspots, setHotspots] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError(null);\r\n    const formData = new FormData();\r\n    formData.append('title', title);\r\n    formData.append('description', description);\r\n    formData.append('location', location);\r\n    formData.append('category', category);\r\n    formData.append('tags', tags);\r\n    formData.append('panoramaFile', panoramaFile);\r\n    formData.append('hotspots', JSON.stringify(hotspots));\r\n\r\n    try {\r\n      await axios.post('/api/tours', formData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data',\r\n          'Authorization': `Bearer ${localStorage.getItem('token')}`\r\n        }\r\n      });\r\n      alert('Tour submitted successfully!');\r\n      // Reset form\r\n    } catch (err) {\r\n      setError('Failed to submit tour. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const addHotspot = () => {\r\n    setHotspots([...hotspots, { position: '', description: '' }]);\r\n  };\r\n\r\n  const updateHotspot = (index, field, value) => {\r\n    const updatedHotspots = [...hotspots];\r\n    updatedHotspots[index][field] = value;\r\n    setHotspots(updatedHotspots);\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className=\"tour-submission-form\">\r\n      <h2>Submit a New VR Tour</h2>\r\n      {error && <div className=\"error\">{error}</div>}\r\n      <input type=\"text\" value={title} onChange={(e) => setTitle(e.target.value)} placeholder=\"Tour Title\" required />\r\n      <textarea value={description} onChange={(e) => setDescription(e.target.value)} placeholder=\"Tour Description\" required />\r\n      <input type=\"text\" value={location} onChange={(e) => setLocation(e.target.value)} placeholder=\"Location\" required />\r\n      <input type=\"text\" value={category} onChange={(e) => setCategory(e.target.value)} placeholder=\"Category\" required />\r\n      <input type=\"text\" value={tags} onChange={(e) => setTags(e.target.value)} placeholder=\"Tags (comma-separated)\" />\r\n      <input type=\"file\" onChange={(e) => setPanoramaFile(e.target.files[0])} accept=\"image/*\" required />\r\n      \r\n      <h3>Hotspots</h3>\r\n      {hotspots.map((hotspot, index) => (\r\n        <div key={index}>\r\n          <input \r\n            type=\"text\" \r\n            value={hotspot.position} \r\n            onChange={(e) => updateHotspot(index, 'position', e.target.value)} \r\n            placeholder=\"Position (x y z)\" \r\n          />\r\n          <input \r\n            type=\"text\" \r\n            value={hotspot.description} \r\n            onChange={(e) => updateHotspot(index, 'description', e.target.value)} \r\n            placeholder=\"Description\" \r\n          />\r\n        </div>\r\n      ))}\r\n      <button type=\"button\" onClick={addHotspot}>Add Hotspot</button>\r\n\r\n      <button type=\"submit\" disabled={loading}>\r\n        {loading ? 'Submitting...' : 'Submit Tour'}\r\n      </button>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default TourSubmission;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}